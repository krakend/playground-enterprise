(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1991],{5982:function(e,n,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/use-cases/track-user",function(){return s(142)}])},142:function(e,n,s){"use strict";s.r(n),s.d(n,{default:function(){return l}});var t=s(5893),i=s(1644),r=s(6654);let c=function(e){let{children:n}=e;return(0,t.jsx)(r.Z,{children:n})};function o(e){let n={a:"a",code:"code",h2:"h2",p:"p",pre:"pre",...(0,i.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h2,{children:"Endpoint"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-http",children:"/track-user\n"})}),"\n",(0,t.jsx)(n.h2,{children:"Security Policies"}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"/track-user"})," endpoint completes only if the user is passing a request with a Cookie setting ",(0,t.jsx)(n.code,{children:"GDPR=yes"}),". If the cookie is missing or with a different value, then it replies with a ",(0,t.jsx)(n.code,{children:"403"})," status code."]}),"\n",(0,t.jsx)(n.p,{children:"The policies engine lets you write custom rules validated on runtime during requests, responses, and token validation. The policies allow you to implement all sorts of validations and user access control, from parameter compliance, to RBAC (Role-Based Access Control) and ABAC (Attribute-Based Access Control) strategies."}),"\n",(0,t.jsx)(n.p,{children:"For example, access the endpoint with:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"curl -iG -H'Cookie: GDPR=yes' 'http://localhost:8080/track-user'\n"})}),"\n",(0,t.jsx)(n.p,{children:"Or get a rejection with:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"curl -iG 'http://localhost:8080/track-user'\n"})}),"\n",(0,t.jsxs)(n.p,{children:["See the ",(0,t.jsx)(n.a,{href:"https://www.krakend.io/docs/enterprise/security-policies/",children:"Security Policies documentation"})]})]})}function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,t.jsx)(c,{...e,children:(0,t.jsx)(o,{...e})})}}},function(e){e.O(0,[2675,182,8535,4544,2888,9774,179],function(){return e(e.s=5982)}),_N_E=e.O()}]);