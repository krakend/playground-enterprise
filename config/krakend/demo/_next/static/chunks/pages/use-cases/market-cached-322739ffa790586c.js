(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1813],{7636:function(e,n,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/use-cases/market-cached",function(){return c(2251)}])},2251:function(e,n,c){"use strict";c.r(n),c.d(n,{default:function(){return o}});var s=c(5893),t=c(1644),r=c(8563);let h=function(e){let{children:n}=e;return(0,s.jsx)(r.Z,{children:n})};function i(e){let n={a:"a",code:"code",h2:"h2",p:"p",pre:"pre",...(0,t.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{children:"Endpoint"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-http",children:"/market/cached\n"})}),"\n",(0,s.jsx)(n.h2,{children:"Caching responses"}),"\n",(0,s.jsx)(n.p,{children:"This use case demonstrates how to cache responses from the backend in the gateway. Caching allows you to reduce the number of calls a user sends to the origin, reducing the network traffic and alleviating the pressure on your services."}),"\n",(0,s.jsxs)(n.p,{children:["When you call the ",(0,s.jsx)(n.code,{children:"/market/cached"})," endpoint for the first time, the origin response is stored in memory, and subsequent calls are served from memory instead."]}),"\n",(0,s.jsxs)(n.p,{children:["To enable caching, you only need to add the ",(0,s.jsx)(n.code,{children:'"qos/http-cache": {}'})," namespace."]}),"\n",(0,s.jsx)(n.p,{children:"The TTL of the cache is taken from the response headers of the backend."}),"\n",(0,s.jsxs)(n.p,{children:["See the ",(0,s.jsx)(n.a,{href:"https://www.krakend.io/docs/enterprise/backends/caching/",children:"Response Caching documentation"})," for more details."]}),"\n",(0,s.jsxs)(n.p,{children:["Check the tracing dashboard to see the loading times with better precision than the ",(0,s.jsx)(n.code,{children:"time"})," command."]}),"\n",(0,s.jsx)(n.p,{children:"First call uncached:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"time curl http://localhost:8080/market/cached\n"})}),"\n",(0,s.jsx)(n.p,{children:"Second call cached:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"time curl http://localhost:8080/market/cached\n"})})]})}function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,s.jsx)(h,{...e,children:(0,s.jsx)(i,{...e})})}}},function(e){e.O(0,[9814,4729,6103,2888,9774,179],function(){return e(e.s=7636)}),_N_E=e.O()}]);